<?php
defined('BASEPATH') OR exit('No direct script access allowed');
class File extends CI_Controller {
	/**
	 * Index Page for this controller.
	 *
	 * Maps to the following URL
	 * 		http://example.com/index.php/welcome
	 *	- or -
	 * 		http://example.com/index.php/welcome/index
	 *	- or -
	 * Since this controller is set as the default controller in
	 * config/routes.php, it's displayed at http://example.com/
	 *
	 * So any other public methods not prefixed with an underscore will
	 * map to /index.php/welcome/<method_name>
	 * @see https://codeigniter.com/user_guide/general/urls.html
	 */
  public function __construct()
  {
    parent::__construct();
  }
  public function pdf()
  {
     ini_set('allow_url_fopen',1);
     $url = $this->uri->segment(4);
    $this->load->helper('download'); 
    $arrContextOptions=array(
      "ssl"=>array(
            "verify_peer"=>false,
            "verify_peer_name"=>false,
        ),
    ); 
$download_file = $url;
$data = file_get_contents(base_url("../documents/".$download_file),false,stream_context_create($arrContextOptions)); // Read the file's contents
$name = $download_file;
force_download($name, $data);
redirect('admin/submission/get_all_submissions', "refresh"); 
  }
public function files()
  {

  }
}
